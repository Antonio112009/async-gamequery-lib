language: java

jdk:
- oraclejdk8

env:
  global:
    - secure: "ZP1FWfLj1HQDrz2IFr9hzldtPIkEMA0+I7yxJfirjHG1HT+hnzwxZ8/o/QEBqQlgSFfLw1JVs26edYpogGCn+VOkWPUMPRgakHBkH8veuMaq2bIoVCjS/cRlLA9tsmN2zKBZ0OESM0XvAGpY/2JUjIbjvGUXe0JXyxQNfWyKh26wYk4y/eQPmBSb+PcZ/+f76989sAgS1ucOxxa5V7WdMXoNxVDcGDpy4kbBxsvikXF+5/w9+Qqb3l+tFcN2csyP2bGXqgVh0SJXRwn87UqoHt0UNFX8q+5W3bUNzWqjYjR3IjncHgaKDtUJg+3Z7J/ZhR4c9vjwz7PnOFjTaEIH8V0ljA2c3cWWt7wCMtGGw9niOWvxK2aV+IlYqFVO4gNneNohQyFaJ2TEELDJ9RWAISygSlz4buwBL08Sz8hZZLnz7yGIfJtgbCIrNvdZPUo6M8yfV54mhoIMueuZPO+BykGO3OWyROB1nAtoGLFfEKHYHnsnVztaP1Qx0viJkxQV46ZNqhhwKsbOjJEquWGCzsjjtK90gV0QH/i97Qs2YYukkxTjHHCZzSQkMQqrXPZmO0XzYjcXmFOzFDdLogl0xxXmnxPKtcWPFnd5e/sqaAKWSsvJn+/v3T2Qr53MzOUrVuNQ+9hSEy+pFNHLFWm7v5Z3iWBheUj72ed2gjieZII="
    - secure: "PsRBKRUGv1F2QAEHt5vnvycnHbHr/XhO5aZwnilKRigu2QFgRveBBOPSy1qeHqQd61fDx/NGGD2777EzcAaNUdSrj5QkeQfGZauvBIY70N39TS7ZGB1K/tlDP+gc0Yz8RkEhFASnMxYP8dR8p+XrR3DuOW0RxfJqF9Cg81OmT/ZcvQFCDGgcOwgyFXiYHQc+FYBKILknczZcyPZjKIbmm2Pcq9Ad0l4NrkgBESsM9Y2uLPrFWm/snb90g5lfUgcafbHuxb0FQKhpxqUg+YrL2DNiA+bIw/hCIvHIEjxNvHzDIzdrwQZ5Wdgc9ohh/tZy83T6J2ytNg7pKT5qYo7xA83XcQ/nNvUlqwJeB+pjyRYC/z95qTy5eQVfZQyDuv2WodGjEFGicZE7UJAaW16arLLEXUJXE7SKC9blGN7YrZCt1iuI41l0Ud1CinNBjj/uiVoAWmc2JmKFMF6ZVAX17sEXD1I3KZvMyk+CJFP0a9uin1XSc0DJVHXykwVfjhlj8BRB824RJVP6ZJBp8XtOVJlGrw2EN8C/ijbHRL2VNTQvtlpA9SuG4M7OV0eq9bcNeFKncWWIMYQ9Nnzw3pCX+Y+ucothR8K8FuVB5ANo8OTtzn344hzWK8WbakTtzyGHojUfB05wnuSg/S6NYFeg5xQQzPDt+Yfoj+wFeAVrbnw="
    - secure: "qJ3htjjokoo9Zcx9VcqtojGcD5E4i0wCsDPe2PQopLVUB9KgYCE+5/TX5FlpKmdY1+rl3ElgHOQrWoykRcQjPseYdgR/1SZOpVaguifLBVpVfMZN24WrzyMhLHcme/YENTYC+aMAL2IOT8129sea1ovmSNPTF1WCQkmEbZ46j6C63uIdoLZFqo+4fJX8IeVaBU8tHwtEt1xB7UuZ3E9roBYDmsMoeZjKcxca69X1/0Dr1poKrShcoBBAIjG1uKc8nOStj1NHagMgWtrDhH8RlVJ+Lenz41DkE6++kxuk+Qf/6LtdB2tVoV1w99RIZ66V8LcNINAKyPKfWok0vaB4UEIiJ/XdlDZSghHqH7xIkZNuu4TYDHgkwWUhDzXY8ig9/zkE/n+rFqKEPna2oGYVKD0NgjJnUYY1k1OjC47aJWEeGHjBiqNcLHlgGZsXN4UpyeihRKEsrn03fF5aZcbj2pagXCBGX8ilQ0gwphNMn2lDsnzh3gv8v/loXiLPDVvD0p3wOZrJLTGixRDmNzNYdWHbBEp+VFyzYb2EF/slzD0o6MWBtuaeYU2e/SWI7Iqvu2F5enqaBqG0HVV7x7bchmUiEpqc3543N8NUOLlrO5s8y+j30MjMBwyaQ2hEE4bYoKvIOjOVwI8FKomA8g9rzgNrFTtRgCGRSOKOnhYtnEk="
    - secure: "glPqwp5q4mD4IeONWiLMYmzxjNWwqe6Bxso3Z/n+5vskoqKgYSzhaeNxT23rxn3VLmF8o2Pinvl9UsAu7h5Fk1jtMTQTXyspyv2ao5J+7ZsedmlelhWvdGEa5H+vfDJtP1OvMRr9Z327uOYrrEhiT+6ibXiW8WO/aQlDVRHrfv5nS4GmGKOSkPEoGT39JKAj0ntc+mskxmdMaJGAkUEBRqmad9Xgz6JV1eaoK/Kk5IKPoBszBg0mUL8YGdJ+Q1wNWwFsSnkgiVtFJyE9dRL+vfyv4CPaWjG64BBlKfPd1JRuOf8i02WnXZ/P9YF/LzQUwyTVen2Ps0kuBbuikRX7EcBhdhB7VgN6s8e8K9v8sLjiBWqwAFRYdJ5OQ9fAW5tZmVekOYnBlJOey2uVDUZRNjXC019UNs0qTZt8o1q4CI6r4XUM0kMVOATey/G84xi/ltJ10qj8rVjPg+cpkBrmfh2lBEnNCsfaz8vBHXbqJ7xTew6iPwJWB0AwaXuLDbhHJV2wi9CYHoLPYo58OrEbj3tw3QAGLYSdNHpkZBXSokDZCIy103BiwSNN8OEcN/4TqOhWMBPgRCuuNVYQWoOYdkseWyeKs/mow3rIheDUGy77MCmxa99ZJeTE1uogocltZ/W1zjMHux+BwfPH8eDvvXDABBrSF+PgT+cgtQvjP+I="
    - secure: "QxEcu1TNrHeFfT96m5WgfcxhgpVM6fPcKjHTCmHRwVOgbK1p+LmIHHUkpyeBcUQgW4tRGgxBMHeN4+Zu/C9GR5/arsv25HDpbqBkLWjBFanCD2VixgTyUtBeYwkTUgYdx2R2iZH/JP36OwXibHJuKO0eh7gofWjmp5YOAB5KUrC+Rj36I0Mkt+SD4nujn6QHRJP269iGiTIU+9wC2yeC6w2a4+boHwevsnMY1XxnNarjAV82pTxgJ+ISk23sZub0lkmbTfUIH5YnQJo4clW3C9VC9nuu//JMFvKDobfO/EyQ7CP/keXZS3F2uxzlvsSkGAzJOgBN7gRL4gwmI0n7QLOFZEbtq02/ZYIDcPC0Uv7pMggc2XUo+M9xyOdtIgtzGGX+YjGpj7Hrq2dj5oIagZ+YqKRea398J+EI7+U/MKpyf5NhvAmO+4VIqWvpXtzzHdJYKJiQ/h72tQoIOUoYY03vCTylwVkS02K2aPXJGpoCsyMUiO/mgX12aans6Gi93qdkBjW7c1L+keci551n75AMXvz7ggoLVkJRvWoIafi6vMj1ZpHcOVyVrfi8CMOf4Ea/jIoCG3PBgrR3udNjeyxE1Ydgit5wlh4upmF1O2xhUUbOtamiUnVO8VARBlhVW7M08I8cn17f6woBjk16AK79xS237aBVQlscpovyj5Y="

install: true

sudo: false

before_install:
- openssl aes-256-cbc -d -in scripts/travis-gpg-key.enc -out scripts/travis-gpg-key.dec -pass pass:${GPG_PASSPHRASE}

script:
- scripts/build-project.sh

after_success:
#- git config credential.helper "store --file=.git/credentials"
#- echo "https://${GITHUB_TOKEN}:@github.com" > .git/credentials
- gpg --import scripts/travis-gpg-key.dec
- mvn clean jacoco:prepare-agent install jacoco:report coveralls:report
- scripts/deploy-project.sh
- scripts/deploy-site.sh

cache:
  directories:
    - '$HOME/.m2/repository'