language: java

jdk:
- oraclejdk8

env:
  global:
    - secure: "r9UEK2XCx/dclLGYQbhc8Rt/O8RfPekmzc7nUrAqE7OE7UqYjwKa1sfYEe/KhYYWCAk1HprjeDaKh/6nknkkh8NYcYnJzez6UAcQgut67wfuw46LUP2LiWm+bzOLGLsMchPCkQW3KjTMDtev15uG0LKGXuVHWBhIwl3qvv6LFchwDIEC3IUMqkij4yeGFqK68YWzxIO6oS4uv+beernjA6X6LkuycnS+j1p1vQSO7ltGXiYOSPRXy94WlLP9MXI5pMyiLbTOqGblkTrlbw+m8zIPQCA19DD+ELnZFTs1G/W93I9csZp/AUDejbStimgDRK3Jf2o0gHTgNOK2pIBkSr+hJ69xNbogMc/imTtgstdlwchDoJyoH+Nl8AGYOoeJNkTSwp3Z24P6EG6XAFN3jYllJ9AhSeqaWTrxDhJorT40blJqB9fEW/mVgUU2MAiZNstdYHfhk5kgYfyUODC13lXU8UxleL7lqlTLL96rgMeTFiJLxMWewY4n8WJWxKUiiMXe68Q6ZNk3MXGXgieyxreZi5wYNFScaZnwee4jkYDL94185AkSCMcQqBOAmog/0bocOj0XowU108W4tVPVJjnDh+buxxai6tP9o1zb9qhG68VsaGgZEHdNe1PBVaycG24ST+sPMI6h06uRe5VFx6fwmYzlNbE5Yb6+vTVNKBk="
    - secure: "j8LjJstWAgQj0imsjKbEjsvDQm0ONZqx0eabO+pi53m2JSk7Joy2qCPQANwB6eU27RQTcB9jPcgi4YO3fvj0hhgiBgOilMmZPBZU4k9G1OrOgCygMByfMSud9EXTVc78ctkq1b+U6xpF3Lp+0SR02SdfUXBMnXnsLVNfB//83eJChNVHrNDi5MeGiAU4kESDnPdz7VeH+kB+lge4Q9ua6KLheslarSGDE/8UW0rsDtCM9CBvmTrZ7LnEWsIsXejsIthNc/CvCKo7mcnXL+16BzfpTmlwljwMGsqmHS1tuzeHY4SdzoN3AXwnJ/vIrjrrTeEh1w9OVpnVrAtf95MFubJEyvkKCCHvsKiTb23BK4SsM7yl2Zxg8sHwZfuS51N6JYt5P4xVxstFe/3YDJXKBPd7qMf8bEWrT8QuxwynBTF/orFe+EdB7eYpd2cTygxbRXByIoIgtcibyqv/jCONdXoxXMMDcF67BJ88DOghrj2WTnit2Nh2UPb+Z91LCad1wTDBWffgeYaCCGw2h62md4eNmO3edr61zw2oIBObs3kDqWGfV6laibE6QIPGdniCdx21+lky10LDyRKtimiwHoSCskJ/t4onqRB08txe+hqSbqh/5aqTRu0BnELOh2DDNEotPzu7ANOP/qDZyjxVRiT3AHLYM5ocCiT0rBxeM4c="
    - secure: "L0j/8wFoP9TYCeBxAFvyRCK0pfkbSiNX8cZfIG5tkvZMPQYSYWEa3xZM+d5GVQzmx1Zv3rW22U+t02GjKyaSXYmHHJZUI/1WE8C6dn5Uc/PL6xqDEzR+Ze7VTjG77Wp1/CViLADgqUqmDpI8TuNomlgzxMkpFHzE8Mto1X2O5q/ApXK4csOtCa8LwnnOzEQ0Y1pgMCUrK5gd1mDnrZFK/AZcWdj7z9PctpSnzBmac0ZxBQO2fZ/bVeLtcZfGPfgW//4KcDdLLy8P4S6OvYWyvsa4yIwRlQK0WTEC2PgSNh7hVKuiCjohjVyCtVkYcAfCBZxEOcXarOAAWoPgCn+b74MrPpuyvLCzcd5qiP8x2M8fQukwHm2Tt1WaDjGN+yGtSPCrX7Z7LCYgLW1e44BSdzpiLmQ/V22MioPEEhu0S3UpAuRjs65ygKe3lh595mDIQv54Y/7kYUQMcZAVpHcDwRHyGMRgOJm79j0o7knsiYVopmYGbSoAPLFgm8hf1I4P6M23tNfnaVTdgi4xej/Msdk/MtVi2gYPMmy6TdlzRxFpB6OW99buQTNlXmBCATlMxztyKcZQ8C1wHmVTMFSX6YQK4u9y4yEd+qfMDq52tuoXV3DEjEU+cWr1ZdRKI3XUas0yJE67dOd0CFQHPoGBZ1HBeQ9MT05UVkPn0N/v09E="
    - secure: "R25l6m2IKjI1ueone6hHt6rLOyASWtfJcQEVmnmV/UF7AAJzAS+fUjprmdU5sEb1DfAPZYDuOYuPj683SseQUKC6Qx6SrO9wmyvDevWHi80wfWN78QgFt5rwIKBsUFzel5BR8aFuoAuuHlEj+l53ookq68YOMabhAtQDBDFXD9tqgkakJAyWW4hyvzj8kJCyjGv+4LZBs2HCcgcA4a340Ot+5ZTrsRylOrykruf5Bgzs9AlFFrRiQ7+mwUar7fIREGWdW7H8aEAvzxhU2Z104sAGiEzVMJUtaSulgrszKbjAbv+jLNfCHAL4HGeRU4fQWvFvTLmYBzEPiAx77hFNLrUcw5sgt4N7NC24NCMpiYX2D3LwL29ftfH3OMs2i90YguoLWTcs5WgsyQyZ+xOVaTesJZ0HUESPDsiEO+W3a4jc0Zi/iwfBcDioJ6awUMiXU84DzFLLwwHgRXiIhddtAXSTOqyY0SxsZPSahgdjNwwrpNtmIPtlUVPQic+6lzHDsC0Mh6f6/fQBsOVnmvXwSisPzaY1Dzm15h/tgmH6EOTKkGt1iBxSWv0I7aiJ9Dg6dTlkK1ecd6Gh6i4xZnVhZfNl8YTKAZlSV84Nku12HRd1X5GGsEyPp9ezYPrL6k3Ya2Bg9e0QBzEaJIZyfa/kecTsKjt3sjM+Ps24T4rFfVc="
    - secure: "CYI5nAIi9L/Dhm5XBrgNYuc/9gY/7X6APvMJccKmHq+yTdrun7Ns/Wev3bknc3q7tY3D1CLMFzACK+5tKPyNhQLfOHb2f+seKnsid5HqTz1Zk8zNhB23pDXRPLkpf5wkazG6awPtPe4tueg8wgBOomFqMx1oitQFfSE+fV3kXS7NClbYffKBQscyq0/qGLDcUSHWSfp6XN3wECpE1WxdUomk7JtHw/p5jSWqt+g57jP1jY60ZQ8SQ1lyRPcZVF11caHDAuKGijsBnKtOYORZjFqRiTEKElyTtLt1oM8oFrHx4TxbY3QazG7bIJNL0ugCy1dzgpnUqCaWqpx/fZirYUDzJ6N9Eolfzg9Z6k3CjdCpv6e5ypxwD337k5sDmDK08sgIhAi9iSeouy9ClfmAwm0CfxjEmABbAjYUY34gEAIxJhrMGyY5PLy8e2rWmk8A1M0DImGERPv9MPfJFpgfBQthu7YuCLIK9bCLid8hpbrUPq5OpjX2gACg4NJZuAxkq8pU4QQCfN8nz9KK1hBp/lf8O/EGQKMofGgLEHIR3zcKtPe+cBFTCAdhtyWpuu2VSwnBiVngWECTCtWQRtlhZX/knAwY9dv1abu1B8h+DLuiz1TAjG8qd8kCVKWWfIR+ulVPS03nDOclq/Vd6lLFBxmdgwVvT4UvI5EkULau3/I="

install: true

sudo: false

before_install:
- openssl aes-256-cbc -K $encrypted_314a17b7024c_key -iv $encrypted_314a17b7024c_iv -in scripts/travis-gpg-key.enc -out scripts/travis-gpg-key.dec -d

script:
- scripts/build-project.sh

after_success:
#- git config credential.helper "store --file=.git/credentials"
#- echo "https://${GITHUB_TOKEN}:@github.com" > .git/credentials
- gpg --import scripts/travis-gpg-key.dec
- mvn clean jacoco:prepare-agent install jacoco:report coveralls:report
- scripts/deploy-project.sh
- scripts/deploy-site.sh

cache:
  directories:
    - '$HOME/.m2/repository'